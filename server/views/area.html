{% extends 'layout.html' %}

{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "macros/tabs.html" import tabs %}

{% set bodyClasses = "internal" %}

{% block head %}
  <meta http-equiv="refresh" content="60">
  {{super()}}
{% endblock %}

{% block body %}
  <div class="govuk-body">
    <div class="govuk-inset-text">
      Generated on 
      <time id="page-time">{{meta.longDateString}}</time>
      <small>(page will update every minute)</small>
    </div>
    <div class="govuk-tabs">
      {{tabs('area')}}
    
      <section class="govuk-tabs__panel">
        {% if id %}
        <span style="float: right">
          <a href="/area" class="govuk-link">Show all areas</a>
        </span>
        <span class="govuk-caption-xl">
          {{id}}
        </span>
        {% endif %}
        
        <h2 class="govuk-heading-l">Area view</h2>
        {% if areaView.rows.length %}
        {{ govukTable(areaView)}}
        {% else %}
          <p class="govuk-body">There are no warnings currently in force</p>
        {% endif %}
      </section>
    </div>
  </div>
{% endblock %}